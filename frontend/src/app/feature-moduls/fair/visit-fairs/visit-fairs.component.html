<div class="container">
    <img class="image" src="../../../../assets/psihic.webp" alt="Image description">
    
    <div class="all-faculties">
        <div class="faculty-container" *ngFor="let fair of fairs">
            <h2>{{ fair.name }}</h2>
            
            <div class="faculty-details">
                <div class="faculty-container-form">
                    <h3>Date:</h3>
                    <p>{{ fair.date | date:'dd.MM.yyyy' }}</p>
                </div>
                
                <div class="faculty-container-form">
                    <h3>Time:</h3>
                    <p>{{ fair.startTime }} - {{ fair.endTime }}</p> 
                   
                </div>
            </div>

            <div class="faculty-container-pink">
                <h3>Psychologists:</h3>
                <ul>
                    <li *ngFor="let psychologist of fair.psychologists">
                        {{ psychologist.name }} {{ psychologist.lastName }}
                        <ul>
                            <li *ngFor="let extraActivity of fair.activites">
                                <div class="apply-extraActivity">
                                    Topic: {{ extraActivity.name }} (Classroom: {{ extraActivity.classroom }})

                                    <button class="button" *ngIf="renderButton &&  extraActivity.id!=2 && extraActivity.capacity > 0 && renderApplyButton" (click)="openModal(extraActivity)">Apply</button>
                                </div>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Modal for the form -->
    <div class="modal" *ngIf="selectActivity">
        <div class="modal-content">
            <span class="close" (click)="closeModal()">&times;</span>
            <h2>{{ selectActivity?.name }}</h2>
            <form [formGroup]="eventForm" *ngIf="eventForm" (ngSubmit)="applyExtraActivity(selectActivity)" class="event-form">
                <div class="form-group">
                    <label for="name">Your name:</label>
                    <input type="text" id="name" formControlName="name" class="form-control">
                </div>

                <div class="form-group">
                    <label for="lastName">Your last name:</label>
                    <input type="text" id="lastName" formControlName="lastName" class="form-control">
                </div>

                <div class="form-group">
                    <label for="email">Your email:</label>
                    <input type="text" id="email" formControlName="email" class="form-control">
                </div>

                <button type="submit" class="button1">Done</button>
            </form>
        </div>
    </div>
</div>